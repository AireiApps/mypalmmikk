<ion-header>
  <ion-toolbar class="bg-brown-color">
    <ion-title color="light">Update</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-grid *ngIf="detailValue">
    <ion-row>
      <ion-card class="bg-yellow card-height bottompad-10px" no-margin>
        <ion-row>
          <span class="mdfont common-whitecolor">Supplier Name: {{detailValue.name}}</span>
        </ion-row>
        <ion-row>
          <span class="mdfont common-whitecolor">SOR ID: {{detailValue.sorId}}</span>
        </ion-row>
      </ion-card>
    </ion-row>
  </ion-grid>

  <form [formGroup]="supplierform">

    <div formArrayName="itemRows">

      <ion-row>


        <div class="home-box">

          <div class="box box-primary">
            <div class="box-body">
              <table style="width: 100%;height: 100%;" class="table table-bordered" id="dTable">

                <thead>
                  <tr class="table_head">
                    <th>Item</th>
                    <th>Station</th>
                    <th>Price</th>
                    <th>Unit</th>
                    <th>Qty</th>
                    <th>Total</th>
                  </tr>
                </thead>


                <tbody>
                  <tr *ngFor="let itemrow of supplierform.controls.itemRows.controls; let i=index" [formGroupName]="i">
                    <!-- <th style="width:10%;text-align: left;" class=" table_head">{{item.display_name}}</th> -->
                    <th style="width:30%;text-align: center;">{{itemrow.get('item').value}}</th>
                    <th style="width:30%;text-align: center;">{{itemrow.get('station').value}}</th>
                    <th style="width:30%;text-align: center;">
                      <input type="number" class="form-control" formControlName="price"
                        (change)="onChangePrice($event,i)"></th>
                    <th style="width:30%;text-align: center;">{{itemrow.get('unit').value}}</th>
                    <th style="width:30%;text-align: center;">{{itemrow.get('qty').value}}</th>
                    <th style="width:30%;text-align: center;">{{itemrow.get('total').value}}</th>

                  </tr>
                </tbody>
              </table>
            </div>
          </div>


        </div>


        <!-- <div class="card gedf-card margin-bottom"
          *ngFor="let itemrow of supplierform.controls.itemRows.controls; let i=index" [formGroupName]="i"
          style="width: 100%;margin: 5px;">
          <div class="card-header">
            <div class="d-flex justify-content-between align-items-center">
              <div class="d-flex justify-content-between align-items-center">
                <div class="ml-2">
                  <div class="h7 text-muted">Item: {{itemrow.get('item').value}}</div>
                  <div class="h7 text-muted">Station Name : {{itemrow.get('station').value}}
                  </div>

                  <div class="form-row">
                    <div class="col">
                      <div class="h7 text-muted">Price :</div>
                    </div>
                    <div class="col">
                      <input type="number" class="form-control" formControlName="price">
                    </div>
                  </div>


                  <div class="h7 text-muted">Unit: {{itemrow.get('unit').value}}</div>
                  <div class="h7 text-muted">Qty: {{itemrow.get('qty').value}}</div>
                  <div class="h7 text-muted">Total: {{itemrow.get('total').value}}</div>

                </div>
              </div>
            </div>

          </div>
        </div> -->

      </ion-row>

      <ion-row *ngIf="supplierform.controls.itemRows.controls.length > 0">
        <ion-col size="12">
          <button type="submit" class="btn btn-primary" (click)="btn_save()" style="float: right;
  margin: 20px;
">Submit</button>
        </ion-col>

      </ion-row>
    </div>

  </form>


</ion-content>